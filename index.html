<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Valentine üíñ</title>

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: "Comic Sans MS", "Poppins", cursive;
  overflow: hidden;
  background: linear-gradient(135deg, #ffd6e8, #e0c3ff);
}

/* ---------- FLOATING EMOJIS ---------- */
#floating {
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
}
.floating-emoji {
  position: fixed;
  font-size: 26px;
  opacity: 0.85;
  will-change: transform;
}

/* ---------- SECTIONS ---------- */
.section {
  position: absolute;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 2;
}
.section.active {
  display: flex;
}

/* ---------- CARD ---------- */
.card {
  background: linear-gradient(135deg, #fff0f7, #f3e8ff);
  padding: 30px 35px;
  border-radius: 25px;
  box-shadow: 0 20px 40px rgba(0,0,0,0.2);
  text-align: center;
  position: relative;
  width: 340px;
}

/* ---------- MINI GAME ---------- */
.heart {
  position: absolute;
  font-size: 32px;
  cursor: pointer;
  animation: floatHeart 3s linear infinite;
}
@keyframes floatHeart {
  0% { transform: translateY(100vh) scale(1); }
  100% { transform: translateY(-120px) scale(1.2); }
}
.counter {
  position: absolute;
  top: 20px;
  font-size: 18px;
}

/* ---------- ENVELOPE ---------- */
#envelope {
  font-size: 90px;
  cursor: pointer;
  transition: transform .3s;
}
#envelope:hover {
  transform: scale(1.1);
}

/* ---------- BUTTONS ---------- */
.buttons {
  display: flex;
  justify-content: center;
  gap: 20px;
  margin-top: 20px;
  position: relative;
}
button {
  padding: 12px 22px;
  font-size: 16px;
  border-radius: 20px;
  border: none;
  cursor: pointer;
}
#yesBtn {
  background: linear-gradient(135deg, #ff7ac8, #b983ff);
  color: white;
  box-shadow: 0 8px 20px rgba(0,0,0,.2);
}
#noBtn {
  background: #ffe4f0;
  position: absolute;
}
#cat {
  position: absolute;
  top: -28px;
  left: 50%;
  transform: translateX(-50%);
  animation: bounce .5s infinite alternate;
}
@keyframes bounce {
  from { transform: translate(-50%,0); }
  to { transform: translate(-50%,-6px); }
}

/* ---------- FINAL ---------- */
.final h2 {
  margin-bottom: 10px;
}
</style>
</head>

<body>

<div id="floating"></div>

<!-- MINI GAME -->
<div id="game" class="section active">
  <div class="card">
    <div class="counter">üíñ Hearts: <span id="count">0</span> / 10</div>
    <h2>Collect the hearts!</h2>
  </div>
</div>

<!-- ENVELOPE -->
<div id="envelopeSection" class="section">
  <div class="card">
    <div id="envelope">üíå</div>
    <p>Click to open</p>
  </div>
</div>

<!-- QUESTION -->
<div id="question" class="section">
  <div class="card" id="card">
    <h2>üíï Camille Anndrea Julgan Lebico,</h2>
    <p>will you be my Valentine? :3</p>
    <p>- Josh Daz<br/>my treat hehe :3</p>

    <div class="buttons">
      <button id="yesBtn">YES üíñ</button>
      <button id="noBtn">
        NO
        <span id="cat">üê±</span>
      </button>
    </div>
  </div>
</div>

<!-- FINAL -->
<div id="final" class="section final">
  <div class="card">
    <h2>Thank you so much! üíù</h2>
    <p>I promise you won‚Äôt regret it.</p>
  </div>
</div>

<script>
/* ---------- FLOATING EMOJIS ---------- */
const floating = document.getElementById("floating");
const emojiSet = ['üíñ','‚ú®','üå∏','üíå','üê±','üéÄ','üç¨','üòª','üíù','ü•∞','ü¶Ñ','üåà'];
const EMOJI_COUNT = 40;
let mouseX = 0, mouseY = 0;

document.addEventListener("mousemove", e => {
  mouseX = e.clientX;
  mouseY = e.clientY;
});

for (let i = 0; i < EMOJI_COUNT; i++) {
  const e = document.createElement("div");
  e.className = "floating-emoji";
  e.textContent = emojiSet[Math.floor(Math.random()*emojiSet.length)];
  let x = Math.random()*window.innerWidth;
  let y = Math.random()*window.innerHeight;
  let speed = Math.random()*0.3+0.2;
  let angle = Math.random()*Math.PI*2;

  floating.appendChild(e);

  function animate() {
    y -= speed;
    angle += 0.01;
    let sway = Math.sin(angle)*10;
    let reactX = (mouseX - x) * 0.0005;
    let reactY = (mouseY - y) * 0.0005;

    if (y < -60) {
      y = window.innerHeight+60;
      x = Math.random()*window.innerWidth;
    }

    e.style.transform = `translate(${x+sway+reactX}px,${y+reactY}px) rotate(${angle*20}deg)`;
    requestAnimationFrame(animate);
  }
  animate();
}

/* ---------- MINI GAME ---------- */
let heartsCollected = 0;
const countEl = document.getElementById("count");
const game = document.getElementById("game");
const envelopeSection = document.getElementById("envelopeSection");

function spawnHeart() {
  const h = document.createElement("div");
  h.className = "heart";
  h.textContent = "üíñ";
  h.style.left = Math.random()*window.innerWidth+"px";
  game.appendChild(h);

  h.onclick = () => {
    heartsCollected++;
    countEl.textContent = heartsCollected;
    h.remove();
    if (heartsCollected >= 10) {
      game.classList.remove("active");
      envelopeSection.classList.add("active");
    }
  };

  setTimeout(() => h.remove(), 3500);
}

const heartInterval = setInterval(() => {
  if (heartsCollected < 10) spawnHeart();
}, 500);

/* ---------- ENVELOPE ---------- */
document.getElementById("envelope").onclick = () => {
  envelopeSection.classList.remove("active");
  document.getElementById("question").classList.add("active");
};

/* ---------- NO BUTTON DODGE ---------- */
const noBtn = document.getElementById("noBtn");
const card = document.getElementById("card");

card.addEventListener("mousemove", e => {
  const r = noBtn.getBoundingClientRect();
  const dx = e.clientX - (r.left+r.width/2);
  const dy = e.clientY - (r.top+r.height/2);
  if (Math.hypot(dx,dy) < 120) {
    const c = card.getBoundingClientRect();
    let nx = Math.random()*(c.width-r.width);
    let ny = Math.random()*(c.height-r.height);
    noBtn.style.left = nx+"px";
    noBtn.style.top = ny+"px";
  }
});

/* ---------- YES ---------- */
document.getElementById("yesBtn").onclick = () => {
  document.getElementById("question").classList.remove("active");
  document.getElementById("final").classList.add("active");
};
</script>

</body>
</html>
