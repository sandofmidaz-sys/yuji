<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Mini-Game</title>

<style>
body {
  margin:0;
  padding:0;
  font-family:'Comic Sans MS', cursive;
  background: linear-gradient(135deg, #ffdee9, #b5fffc, #fddde6);
  overflow:hidden;
  height:100vh;
  position:relative;
}

/* Card */
.card {
  position:absolute;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%);
  width:450px;
  padding:30px;
  background:#ffe6f0;
  border-radius:25px;
  box-shadow:0 10px 25px rgba(0,0,0,0.15);
  text-align:center;
  z-index:2;
}

.card h1 { font-size:1.6rem; margin-bottom:10px; }
.card p { font-size:1.2rem; margin-bottom:20px; }

/* Buttons */
.button-container {
  position:relative;
  width:100%;
  height:80px;
}

.button-container button {
  font-size:1rem;
  padding:10px 25px;
  border:none;
  border-radius:15px;
  cursor:pointer;
  position:absolute;
}

/* YES */
#yesBtn {
  background: linear-gradient(45deg,#ff8ec7,#b57fff);
  color:white;
  left:30%;
  top:10px;
  box-shadow: 0 0 15px rgba(255,140,200,0.6);
  animation: yesGlow 2.5s ease-in-out infinite;
}

@keyframes yesGlow {
  0% { box-shadow:0 0 15px rgba(255,140,200,0.5); }
  50% { box-shadow:0 0 30px rgba(255,140,200,0.9); }
  100% { box-shadow:0 0 15px rgba(255,140,200,0.5); }
}

#yesBtn:active {
  animation: yesClick 0.4s ease;
}

@keyframes yesClick {
  0% { transform: scale(1); }
  50% { transform: scale(1.15); }
  100% { transform: scale(1); }
}

/* NO */
#noBtn {
  background:#ffcce0;
  color:#800040;
  left:70%;
  top:10px;
  box-shadow: 0 0 12px rgba(255,120,180,0.6);
}

/* Cat */
#noBtn span {
  font-size:32px; /* BIGGER CAT */
  animation: catRide 0.8s ease-in-out infinite;
}

@keyframes catRide {
  0% { transform: translateX(-50%) rotate(-5deg); }
  50% { transform: translateX(-50%) translateY(-6px) rotate(5deg); }
  100% { transform: translateX(-50%) rotate(-5deg); }
}

/* Hearts */
.heart {
  position:absolute;
  font-size:30px;
  cursor:pointer;
  z-index:3;
}

/* Envelope */
#envelope {
  font-size:80px;
  cursor:pointer;
  transition: transform 0.3s ease;
}

#envelope.locked { filter: grayscale(80%); }

#envelope.opening {
  animation: envelopePop 0.6s ease;
}

@keyframes envelopePop {
  0% { transform: scale(1); }
  50% { transform: scale(1.3) rotate(5deg); }
  100% { transform: scale(1); }
}

/* Floating emojis (unchanged) */
#floating { position:fixed; inset:0; pointer-events:none; z-index:1; }
.floating-emoji { position:absolute; will-change:transform; }
</style>
</head>

<body>

<div id="floating"></div>

<div class="card" id="gameCard">
  <h1>Collect 20 hearts to unlock your envelope!</h1>
  <div id="counter">Hearts collected: 0 / 20</div>
</div>

<div class="card" id="envelopeCard" style="display:none;">
  <div id="envelope" class="locked">ğŸ’Œ</div>
  <p>Click to open your Valentine!</p>
</div>

<div class="card" id="valentineCard" style="display:none;">
  <h1>ğŸ’• Camille Anndrea Julgan Lebico, will you be my Valentine? :3</h1>
  <p>my treat hehe :3</p>
  <div class="button-container">
    <button id="yesBtn">YES! ğŸ’–</button>
    <button id="noBtn">NO ğŸ™ƒ</button>
  </div>
</div>

<div class="card" id="thankCard" style="display:none;">
  <h1>Thank you so much! ğŸ€</h1>
  <p>I promise you wonâ€™t regret it. ğŸ’–</p>
</div>

<script>
/* ===== FLOATING EMOJIS (LOCKED) ===== */
const floating = document.getElementById("floating");
const emojis = ['ğŸ’–','âœ¨','ğŸŒ¸','ğŸ’Œ','ğŸ±','ğŸ€','ğŸ¬','ğŸŒˆ','ğŸ˜»','ğŸ¶','ğŸ­','ğŸ¦„','ğŸ¥°','ğŸ’'];
for(let i=0;i<40;i++){
  const e=document.createElement("div");
  e.className="floating-emoji";
  e.textContent=emojis[Math.floor(Math.random()*emojis.length)];
  let x=Math.random()*innerWidth, y=Math.random()*innerHeight;
  let s=Math.random()*0.4+0.2, a=Math.random()*6;
  e.style.fontSize=(Math.random()*18+22)+"px";
  e.style.opacity=0.9;
  floating.appendChild(e);
  (function animate(){
    y-=s;
    a+=0.01;
    if(y<-60){y=innerHeight+60; x=Math.random()*innerWidth;}
    e.style.transform=`translate(${x+Math.sin(a)*10}px,${y}px) rotate(${a*10}deg)`;
    requestAnimationFrame(animate);
  })();
}

/* ===== ORIGINAL GAME LOGIC (LOCKED) ===== */
const gameCard=document.getElementById("gameCard");
const envelopeCard=document.getElementById("envelopeCard");
const valentineCard=document.getElementById("valentineCard");
const thankCard=document.getElementById("thankCard");
const counterEl=document.getElementById("counter");
let heartsCollected=0;

for(let i=0;i<20;i++){
  const h=document.createElement("div");
  h.className="heart";
  h.textContent="ğŸ’–";
  h.style.left=Math.random()*(innerWidth-50)+"px";
  h.style.top=Math.random()*(innerHeight-50)+"px";
  document.body.appendChild(h);
  (function drift(){
    let y=parseFloat(h.style.top);
    y-=3;
    if(y<-50)y=innerHeight+50;
    h.style.top=y+"px";
    requestAnimationFrame(drift);
  })();
  h.onclick=()=>{
    heartsCollected++;
    h.remove();
    counterEl.textContent=`Hearts collected: ${heartsCollected} / 20`;
    if(heartsCollected>=20){
      gameCard.style.display="none";
      envelopeCard.style.display="block";
      envelope.classList.remove("locked");
    }
  };
}

const envelope=document.getElementById("envelope");
envelope.onclick=()=>{
  if(!envelope.classList.contains("locked")){
    envelope.classList.add("opening");
    setTimeout(()=>{
      envelopeCard.style.display="none";
      valentineCard.style.display="block";
      envelope.classList.remove("opening");
    },500);
  }
};

const yesBtn=document.getElementById("yesBtn");
yesBtn.onclick=()=>{
  valentineCard.style.display="none";
  thankCard.style.display="block";
};

const noBtn=document.getElementById("noBtn");
const cat=document.createElement("span");
cat.textContent="ğŸ±";
cat.style.position="absolute";
cat.style.top="-34px";
cat.style.left="50%";
cat.style.transform="translateX(-50%)";
noBtn.appendChild(cat);

document.addEventListener("mousemove",(e)=>{
  const r=noBtn.getBoundingClientRect();
  const d=Math.hypot(r.x-e.clientX,r.y-e.clientY);
  if(d<250){
    noBtn.style.left=Math.random()*(valentineCard.offsetWidth-r.width)+"px";
    noBtn.style.top=Math.random()*(valentineCard.offsetHeight-r.height-40)+40+"px";
  }
});
</script>
</body>
</html>
