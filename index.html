<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Valentine Mini-Game for Camille</title>
<style>
/* CSS - ALL STYLES GO HERE */
body {
  margin:0; padding:0;
  font-family:'Comic Sans MS', cursive;
  background: linear-gradient(135deg, #ffdee9, #b5fffc, #fddde6);
  overflow:hidden;
  height:100vh;
  position:relative;
}

.card {
  position:absolute;
  top:50%; left:50%;
  transform: translate(-50%,-50%);
  width:90%; max-width:480px; padding:30px;
  background:#ffe6f0; border-radius:25px;
  box-shadow:0 10px 30px rgba(0,0,0,0.2);
  text-align:center;
  z-index:10;
  box-sizing: border-box;
}

.button-container {
  position:relative;
  width:100%;
  height:120px;
  margin-top: 20px;
  display: flex;
  justify-content: center;
  align-items: center;
}

button {
  font-size:1rem;
  padding:12px 25px;
  border:none;
  border-radius:18px;
  cursor:pointer;
  transition: transform 0.2s;
}

#yesBtn, #yesBtnMini {
  background: linear-gradient(45deg,#ff8ec7,#b57fff);
  color:white;
  z-index: 15;
}

#noBtn, #noBtnMini {
  background:#ffcce0; color:#800040;
  position: absolute;
}

.magical { animation: glowPulse 2s infinite; }
@keyframes glowPulse {
  0% { box-shadow:0 0 10px #ff8ec7; }
  50% { box-shadow:0 0 25px #b57fff; }
  100% { box-shadow:0 0 10px #ff8ec7; }
}

/* Glitch Effect */
@keyframes glitch {
  0% { text-shadow: 2px 0 #ff0000; transform: translate(0); }
  20% { text-shadow: -2px 0 #00ffff; transform: translate(-2px, 1px); }
  100% { text-shadow: 0; transform: translate(0); }
}
.glitch-active { animation: glitch 0.2s linear; background: #ff4d94 !important; }

#slideshow {
  position:fixed; top:0; left:0; width:100%; height:100%;
  background:inherit; display:flex; justify-content:center; align-items:center;
  z-index:100; text-align:center;
}
.slide { display:none; flex-direction:column; align-items:center; width:80%; }
.slide.active { display:flex; }
.slide-footer { font-size:0.8rem; margin-top:20px; opacity:0.6; }

.heart { position:absolute; font-size:40px; cursor:pointer; z-index:5; }
</style>
</head>
<body>

<div id="slideshow">
  <div class="slide active"><h1>Hello, Lovely Lady ğŸ˜</h1><div class="slide-footer">Tap anywhere...</div></div>
  <div class="slide"><h1>This mini-game is just my way of asking someone special to spend Valentineâ€™s with me...</h1><div class="slide-footer">Tap anywhere...</div></div>
  
  <div class="slide" id="questionSlide">
    <h1>So, are you available that day? ğŸ˜Š</h1>
    <div class="button-container">
      <button id="yesBtn" class="magical">YES! ğŸ’–</button>
      <button id="noBtn">NO ğŸ™ƒ</button>
    </div>
  </div>

  <div class="slide" id="readySlide">
    <h1>Great! Since you're free, let's play a game ğŸ’–</h1>
    <button id="startBtn" style="background:#ff8ec7; color:white; margin-top:20px;">Start Game</button>
  </div>
</div>

<div class="card" id="gameCard" style="display:none;">
  <h1>Collect 20 hearts!</h1>
  <div id="counter">Hearts: 0 / 20</div>
</div>

<div class="card" id="envelopeCard" style="display:none;">
  <div id="envelope" style="font-size:80px; cursor:pointer;">ğŸ’Œ</div>
  <p>Open your message!</p>
</div>

<div class="card" id="valentineCard" style="display:none;">
  <h1>ğŸ’• Camille, will you be my Valentine?</h1>
  <p>- Josh Daz</p>
  <div class="button-container">
    <button id="yesBtnMini" class="magical">YES! ğŸ’–</button>
    <button id="noBtnMini">NO</button>
  </div>
</div>

<div class="card" id="thankCard" style="display:none;">
  <h1>Yay! See you then! ğŸ¥°</h1>
</div>

<script>
/* JAVASCRIPT - ALL LOGIC GOES HERE */
const slides = document.querySelectorAll(".slide");
let currentSlide = 0;

// Progress through text slides
document.addEventListener("click", (e) => {
  if (e.target.tagName === "BUTTON" || e.target.classList.contains("heart")) return;
  if (currentSlide < 2) { 
    slides[currentSlide].classList.remove("active");
    currentSlide++;
    slides[currentSlide].classList.add("active");
  }
});

// Dodging Logic Function
function setupDodge(btnId) {
  const btn = document.getElementById(btnId);
  btn.addEventListener("mouseover", () => {
    const container = btn.parentElement;
    const maxX = container.clientWidth - btn.clientWidth;
    const maxY = container.clientHeight - btn.clientHeight;
    
    btn.style.left = Math.random() * maxX + "px";
    btn.style.top = Math.random() * maxY + "px";
    btn.classList.add("glitch-active");
    setTimeout(() => btn.classList.remove("glitch-active"), 200);
  });
}

setupDodge("noBtn");
setupDodge("noBtnMini");

// Button Actions
document.getElementById("yesBtn").onclick = () => {
  slides[currentSlide].classList.remove("active");
  currentSlide++;
  slides[currentSlide].classList.add("active");
};

document.getElementById("startBtn").onclick = () => {
  document.getElementById("slideshow").style.display = "none";
  document.getElementById("gameCard").style.display = "block";
  for(let i=0; i<20; i++) spawnHeart();
};

let hearts = 0;
function spawnHeart() {
  const h = document.createElement("div");
  h.className = "heart";
  h.innerHTML = "ğŸ’–";
  h.style.left = Math.random() * 90 + "vw";
  h.style.top = Math.random() * 90 + "vh";
  document.body.appendChild(h);

  h.onclick = () => {
    hearts++;
    document.getElementById("counter").innerText = `Hearts: ${hearts} / 20`;
    h.remove();
    if (hearts === 20) {
      document.getElementById("gameCard").style.display = "none";
      document.getElementById("envelopeCard").style.display = "block";
    }
  };
}

document.getElementById("envelope").onclick = () => {
  document.getElementById("envelopeCard").style.display = "none";
  document.getElementById("valentineCard").style.display = "block";
};

document.getElementById("yesBtnMini").onclick = () => {
  document.getElementById("valentineCard").style.display = "none";
  document.getElementById("thankCard").style.display = "block";
};
</script>
</body>
</html>
